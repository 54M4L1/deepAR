<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
                 <link rel="manifest" href="manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://img.icons8.com/external-victoruler-flat-victoruler/50/external-yin-yang-chinese-new-year-victoruler-flat-victoruler.png" rel="icon" type="image/png">
    <link rel="stylesheet" href="css/glob.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.0/css/all.min.css" integrity="sha512-9xKTRVabjVeZmc+GUW8GgSmcREDunMM+Dt/GrzchfN8tkwHizc5RP4Ok/MXFFy5rIjJjzhndFScTceq5e6GvVQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <title>DeepSinker: an open-source AI agent by Sam</title>
    <header>

        <span class="logo-text">Deep Sinker</span>
        <p style="color: #66ceff; text-align: center; font-size: 16px; margin-top: 5px;">Hunt the unseen</p>
    </header>
</head>
<body>

    <div class="custom-file-container">
        <a id="add-to-home-screen" class='custom-file-label'>
            <img width="50" height="50" src="https://img.icons8.com/nolan/50/download.png" alt="download" />
        </a>

    </div>
    </div>
    </div>
    <div id="error-message" class="erbox"></div>
    <div class="chat-container">
        <div id="chat-box" class="chat-box"></div>
        <div id="loading" class="loading">لحظة من فضلك...</div>

        <div class="input-container">
            <input type="text" id="user-input" placeholder="إكتب أي شيء..." oninput="toggleButton()">
            <button id="send-btn" onclick="sendMessage()" style="display: none;">
                <i class="fa-solid fa-arrow-up"></i>
            </button>
            <button id="open-modal-btn">
                <i class="fa-sharp-duotone fa-solid fa-robot"></i>
            </button>
        </div>

        <div id="model-modal" class="modal">
            <div class="modal-content">
                <span id="close-modal-btn" class="close">&times;</span>
                <h3>حدد نوع النموذج</h3>

                <button class="model-btn" onclick="setModel('physics')">
                    <i class="fas fa-atom"></i> فيزياء
                </button>
                <button class="model-btn" onclick="setModel('space')">
                    <i class="fas fa-space-shuttle"></i> فضاء
                </button>
                <button class="model-btn" onclick="setModel('chemistry')">
                    <i class="fas fa-flask"></i> كيمياء
                </button>
                <button class="model-btn" onclick="setModel('spiritual')">
                    <i class="fas fa-spa"></i> روحانية
                </button>
                <button class="model-btn" onclick="setModel('technology')">
                    <i class="fas fa-laptop-code"></i> تكنولوجيا
                </button>
                <button class="model-btn" onclick="setModel('funny')">
                    <i class="fas fa-laugh-beam"></i> دردشة
                </button>
                <button class="model-btn" onclick="setModel('history')">
                    <i class="fas fa-landmark"></i> تاريخ
                </button>
                <button class="model-btn" onclick="setModel('biology')">
                    <i class="fas fa-dna"></i> علم الأحياء
                </button>
                <button class="model-btn" onclick="setModel('art')">
                    <i class="fas fa-palette"></i> فن
                </button>
                <button class="model-btn" onclick="setModel('music')">
                    <i class="fas fa-music"></i> موسيقى
                </button>
                <button class="model-btn" onclick="setModel('literature')">
                    <i class="fas fa-book-open"></i> أدب
                </button>
            </div>
        </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        <script src="puter.js/dist/puter.js"></script>
        <script src="js/Sinker.js"></script>
  <script>
          document.addEventListener("contextmenu", function(event) {
    event.preventDefault();
});
        
        
        
        
        document.addEventListener("keydown", function(event) {
    if (event.key === "F12" || 
        (event.ctrlKey && event.shiftKey && (event.key === "I" || event.key === "J")) || 
        (event.ctrlKey && event.key === "U")) {
        event.preventDefault();
    }
});

    
   console.log("%cHello, creepy nosy stranger! ", 
    "font-size: 40px; color: crimson; font-family: 'Courier New'; background: black; text-shadow: 0 0 20px red, 0 0 30px darkred, 0 0 40px crimson;");
              
console.log("%cWhat Are you doing here? ", 
    "font-size: 40px; color: crimson; font-family: 'Courier New'; background: black; text-shadow: 0 0 20px red, 0 0 30px darkred, 0 0 40px crimson;");
        
</script>
        <script>
   let deferredPrompt; // تعريف المتغير مرة واحدة فقط
const addBtn = document.getElementById('add-to-home-screen');

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    addBtn.style.display = 'block'; // إظهار الزر عند توفر الحدث

    addBtn.addEventListener('click', async () => {
        // تحقق من النظام iOS
        if (navigator.userAgent.includes('iPhone') && !window.matchMedia('(display-mode: standalone)').matches) {
            // إظهار نافذة منبثقة مع تعليمات واضحة تتضمن صورة رمز المشاركة
            const instructions = `
                <h3>أنت تستخدم آيفون, لتحميل تطبيق DeepSinker اتبع الخطوات التالية:</h3>
                <ol>
                    <li>اضغط على زر <strong>المشاركة</strong> في أسفل الشاشة. </li>
                      <span>
                      <img src="iosbtn.webp" alt="رمز المشاركة" style="max-width: 50px; height: auto; vertical-align: middle;">
                      </span>
                    <li>ثم اختر <strong>'إضافة إلى القائمة الرئيسية'</strong> من القائمة .</li>
                </ol>
                <p>تمتع بتجربة استخدام أسرع وأكثر سلاسة!</p>
            `;
            
            // عرض التعليمات في نافذة منبثقة أو داخل عنصر مخصص
            const instructionsDiv = document.createElement('div');
            instructionsDiv.style.position = 'fixed';
            instructionsDiv.style.top = '20%';
            instructionsDiv.style.left = '5%';
            instructionsDiv.style.backgroundColor = '#fff';
            instructionsDiv.style.padding = '20px';
            instructionsDiv.style.borderRadius = '8px';
            instructionsDiv.style.boxShadow = '0 0 10px rgba(0, 0, 0, 0.1)';
            instructionsDiv.style.zIndex = '10'; 
            instructionsDiv.innerHTML = instructions;

            document.body.appendChild(instructionsDiv);

            // إغلاق النافذة بعد مدة معينة
            setTimeout(() => {
                document.body.removeChild(instructionsDiv);
            }, 10000); // إغلاق النافذة بعد 10 ثوانٍ
        }

        if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;

            if (outcome === 'accepted') {
                console.log('تمت الموافقة على التثبيت 🎉');
            } else {
                console.log('تم رفض التثبيت ❌');
            }

            deferredPrompt = null;
            addBtn.style.display = 'none'; // إخفاء الزر بعد التفاعل
        }
    });
});





        </script>
</body>
</html>
